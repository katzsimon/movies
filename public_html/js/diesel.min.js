function initDiesel(){for(var t,i=document.querySelectorAll(".diesel:not([data-init])"),e=0;e<i.length;e++)void 0,t=i[e],new Diesel(t,{})}window.addEventListener("DOMContentLoaded",function(t){initDiesel()}),function(){this.Diesel=function(){this.target=null,this.calendar=null,this.content=null,this.id=null,this.display=null,this.displayEl=null,this.displaying="",this.mode=null,this.days=null,this.year=null,this.yearValue=null,this.month=null,this.monthValue=null,this.days=null,this.months=null,this.shortcuts=null,this.years=null,this.btnNext=null,this.btnPrev=null,this.btnConfirmTime=null,this.btnToday=null,this.btnShortcuts=null,this.btnShortcutsTime=null,this.header=null,this.useTime=!1,this.time=null,this.hour=null,this.minute=null,this.second=null,this.hourWrap=null,this.minuteWrap=null,this.secondWrap=null,this.ampm=null,this.current_month=null,this.current_year=null,this.dateActive="",this.dateSelected="",this.modeDate=!1;var t={target:null,debug:this.modeTime=!1,id:null,class:"diesel",theme:"",mode:"date",format:"YYYY-MM-DD",formatMonth:"MMMM",formatYear:"YYYY",formatHour:"HH",display:null,minuteIncrement:15,readOnly:!0,timeRelative:!0,fullWidth:768,offset:10,offsetFull:160,defaultHour:"12",defaultMinute:"00",defaultSecond:"00",inputClass:"",inputAttribute:"readonly",auto:!0,today:!0,shortcuts:"",zindex:null,open:"",iconPrev:'<svg viewBox="0 0 512 512"><path d="m214 256l167-174c4-4 4-11 0-16l-30-30c-4-5-11-5-16-1l-204 213c-2 2-3 5-3 8 0 3 1 6 3 8l204 213c5 4 12 4 16 0l30-31c4-4 4-11 0-16z"/></svg>',iconNext:'<svg viewBox="0 0 512 512"><path d="m298 256l-167-174c-4-4-4-11 0-16l30-30c5-5 12-5 16-1l204 213c2 2 3 5 3 8 0 3-1 6-3 8l-204 213c-4 4-11 4-16 0l-30-31c-4-4-4-11 0-16z"/></svg>',iconConfirm:'<svg viewBox="0 0 512 512"><path d="M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"/></svg>',iconToday:'<svg viewBox="0 0 448 512"><path d="M167 331.4l-9.4 54.6c-1.7 9.9 8.7 17.2 17.4 12.6l48.9-25.8 48.9 25.8c8.7 4.6 19.1-2.8 17.4-12.6l-9.4-54.6 39.6-38.6c7.1-6.9 3.2-19-6.6-20.5l-54.7-8-24.5-49.6c-4.4-8.8-17.1-9-21.5 0l-24.5 49.6-54.7 8c-9.8 1.4-13.7 13.5-6.6 20.5l39.7 38.6zM400 64h-48V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H160V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V112c0-26.5-21.5-48-48-48zm0 394c0 3.3-2.7 6-6 6H54c-3.3 0-6-2.7-6-6V160h352v298z"/></svg>',iconShortcuts:'<svg viewBox="0 0 576 512"><path d="M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z"/></svg>',prefix:"",dayNames:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],template:'<div class="diesel-calendar"><div class="d-header d-hidden"><button type="button" class="dbtn dbtn-prev"></button><button type="button" class="dbtn nobg dbtn-today"></button><button type="button" class="dbtn dmonth"></button><button type="button" class="dbtn dyear"></button><button type="button" class="dbtn nobg dbtn-shortcut"></button><button type="button" class="dbtn dbtn-next"></button></div><div class="d-content"><div class="d-days"></div><div class="d-months"></div><div class="d-years"></div><div class="d-shortcuts"></div><div class="d-time"></div></div></div>'};this.options=arguments[1]&&"object"==typeof arguments[1]?function(t,i){var e;for(e in i)i.hasOwnProperty(e)&&(t[e]=i[e]);return t}(t,arguments[1]):t,null===this.target&&(this.target=arguments[0],this.options=function(t,i){for(opt in t)i.hasAttribute("data-"+opt)?t[opt]=i.getAttribute("data-"+opt):i.hasAttribute("data-diesel-"+opt)?t[opt]=i.getAttribute("data-diesel-"+opt):void 0!==window["diesel_"+opt]&&(t[opt]=window["diesel_"+opt]);return t}(this.options,this.target)),"object"==typeof this.target&&this.init()},Diesel.prototype.init=function(){if(null===this.options.id){var t=this.target.id;this.empty(t)&&(t=this.target.name),this.empty(t)&&(t="cal"+Math.random(100,999).toString()),this.id=t}else this.id=this.options.id;if(null!==this.options.display){var i=this.stringToHTML('<input type="text">');i.className=this.target.className,this.removeClass(i,this.options.class),this.display=i,this.insertBefore(this.target,i),this.displayEl=i,this.displayEl.value=dayjs(this.target.value).format(this.options.display),"Invalid Date"===this.displayEl.value&&(this.displayEl.value=""),this.target.style.display="none",this.addClass(this.displayEl,this.options.inputClass),this.empty(this.options.inputAttribute)||this.displayEl.setAttribute(this.options.inputAttribute,this.options.inputAttribute)}else this.addClass(this.target,this.options.inputClass),this.empty(this.options.inputAttribute)||this.target.setAttribute(this.options.inputAttribute,this.options.inputAttribute);!0===this.options.auto&&"date"===this.options.mode&&0<=this.options.format.indexOf("mm")&&(0<=this.options.format.indexOf("YY")?this.options.mode="datetime":this.options.mode="time"),(this.target.diesel=this).target.setAttribute("data-init",""),"time"!==this.options.mode&&"datetime"!==this.options.mode||(this.modeTime=!0),"date"!==this.options.mode&&"datetime"!==this.options.mode||(this.modeDate=!0);try{var e=document.querySelectorAll(this.options.open);if(null!==open)for(var s=0;s<e.length;s++)(function(){e[s].addEventListener("click",function(t){this.showCalendar()}.bind(this))}).bind(this)()}catch(t){}this.options.readOnly&&this.target.setAttribute("readonly","readonly"),this.target.addEventListener("click",function(t){this.showCalendar()}.bind(this)),this.target.addEventListener("focus",function(t){""===this.displaying&&this.showCalendar()}.bind(this)),null!==this.displayEl&&(this.displayEl.addEventListener("click",function(t){this.showCalendar()}.bind(this)),this.displayEl.addEventListener("focus",function(t){""===this.displaying&&this.showCalendar()}.bind(this)))},Diesel.prototype.showCalendar=function(){var t=dayjs(this.target.value,this.options.format);if("minutes"===this.options.format)if(t=dayjs(),""===this.target.value)t=(t=t.hour(0)).minute(0);else{var i=parseInt(this.target.value),e=Math.floor(i/60),s=i-60*e;t=(t=t.hour(e)).minute(s)}else t.isValid()?(this.dateActive=t.format("YYYY-MM-DD"),this.dateSelected=t.format("YYYY-MM-DD")):t=dayjs();this.now=t,this.yearValue=t.format("YYYY"),this.monthValue=t.format("MM"),this.calendar=this.stringToHTML(this.options.template),this.time=this.calendar.querySelector(".d-time"),this.content=this.calendar.querySelector(".d-content"),this.years=this.calendar.querySelector(".d-years"),this.months=this.calendar.querySelector(".d-months"),this.days=this.calendar.querySelector(".d-days"),null!==this.options.zindex&&(this.calendar.style.zIndex=this.options.zindex),this.addClass(this.calendar,this.options.class),this.addClass(this.calendar,this.options.theme),this.buildShortcuts(),this.buildCalendar(),this.buildTime(),this.setDateFromNow(),this.setTimeFromNow(),this.appendInto(document.body,this.calendar);var n=this;function o(t){n.calendar.contains(t.target)||(document.removeEventListener("click",o,!0),n.hideCalendar())}function h(t){"Escape"===t.key||"Tab"===t.key?(t.preventDefault(),n.hideCalendar(),document.removeEventListener("keydown",h,!0)):"Enter"===t.key&&(t.preventDefault(),n.set(),n.hideCalendar(),document.removeEventListener("keydown",h,!0))}document.addEventListener("click",o,!0),document.addEventListener("keydown",h,!0),"date"!==this.options.mode&&"datetime"!==this.options.mode||this.showDays(),"time"!==this.options.mode&&"datetime"!==this.options.mode||this.showTime(),this.setPosition(),this.calendar.addEventListener("change",function(t){"time"!==this.options.mode&&(this.setDateFromNow(),this.showDays())}.bind(this)),this.calendar.addEventListener("hide",function(t){document.removeEventListener("click",h,!0),document.removeEventListener("click",o,!0)}.bind(this))},Diesel.prototype.buildShortcuts=function(){this.shortcuts=this.calendar.querySelector(".d-shortcuts"),this.btnShortcuts=this.calendar.querySelector(".dbtn-shortcut"),this.btnShortcuts.innerHTML=this.options.iconShortcuts,this.empty(this.options.shortcuts)&&this.addClass(this.btnShortcuts,"d-hidden"),null!==this.options.shortcuts&&this.btnShortcuts.addEventListener("click",function(t){this.showShortcuts()}.bind(this))},Diesel.prototype.buildCalendar=function(){this.modeDate&&(this.header=this.calendar.querySelector(".d-header"),this.year=this.calendar.querySelector(".dyear"),this.month=this.calendar.querySelector(".dmonth"),this.btnNext=this.calendar.querySelector(".dbtn-next"),this.btnPrev=this.calendar.querySelector(".dbtn-prev"),this.btnToday=this.calendar.querySelector(".dbtn-today"),this.btnNext.innerHTML=this.options.iconNext,this.btnPrev.innerHTML=this.options.iconPrev,this.btnToday.innerHTML=this.options.iconToday,"false"!==this.options.today&&!1!==this.options.today||this.addClass(this.btnToday,"d-hidden"),this.days.addEventListener("wheel",function(t){t.preventDefault(),0<t.deltaY?this.nextMonth():this.prevMonth()}.bind(this)),this.month.addEventListener("click",function(t){this.showMonths()}.bind(this)),this.year.addEventListener("click",function(t){this.showYears()}.bind(this)),this.year.addEventListener("wheel",function(t){t.preventDefault(),0<t.deltaY?this.nextYear():this.prevYear()}.bind(this)),this.month.addEventListener("wheel",function(t){t.preventDefault(),0<t.deltaY?this.nextMonth():this.prevMonth()}.bind(this)),this.years.addEventListener("wheel",function(t){t.preventDefault(),0<t.deltaY?this.next():this.prev()}.bind(this)),this.btnNext.addEventListener("click",function(t){this.next()}.bind(this)),this.btnPrev.addEventListener("click",function(t){this.prev()}.bind(this)),this.btnToday.addEventListener("click",function(t){var i=dayjs();this.now=this.now.year(i.year()),this.now=this.now.month(i.month()),this.now=this.now.day(i.day()),this.monthValue=this.now.format("MM"),this.yearValue=this.now.format("YYYY"),this.setDateFromNow(),this.showDays()}.bind(this)),this.removeClass(this.header,"d-hidden"),this.showDays())},Diesel.prototype.buildTime=function(){this.modeTime&&(this.hour=this.calendar.querySelector(".dhour"),this.minute=this.calendar.querySelector(".dminute"),this.second=this.calendar.querySelector(".dsecond"),this.ampm=this.calendar.querySelector(".ampm"),this.time.innerHTML='<div class="d-hour"><input type="number" class="dhour" min="0" step="1" max="23"></div><span class="d-seperator">:</span><div class="d-minute"><input type="number" class="dminute" step="'+this.options.minuteIncrement.toString()+'" max="59" min="0"></div><span class="d-seperator d-seperator-second d-hidden">:</span><div class="d-second d-hidden"><input type="number" class="dsecond" step="1" min="0" max="59"></div><button type="button" class="dbtn dbtn-time-ampm">AM</button><button type="button" class="dbtn dbtn-time-shortcuts">'+this.options.iconShortcuts+'</button><button type="button" class="dbtn dbtn-time-confirm">'+this.options.iconConfirm+"</button>",this.hour=this.calendar.querySelector(".dhour"),this.minute=this.calendar.querySelector(".dminute"),this.second=this.calendar.querySelector(".dsecond"),this.hourWrap=this.calendar.querySelector(".d-hour"),this.minuteWrap=this.calendar.querySelector(".d-minute"),this.secondWrap=this.calendar.querySelector(".d-second"),this.ampm=this.calendar.querySelector(".dbtn-time-ampm"),this.btnConfirmTime=this.calendar.querySelector(".dbtn-time-confirm"),this.btnShortcutsTime=this.calendar.querySelector(".dbtn-time-shortcuts"),(this.empty(this.options.shortcuts)||"time"===this.options.mode)&&(!this.empty(this.options.shortcuts)||"time"!==this.options.mode&&"datetime"!==this.options.mode)||this.addClass(this.btnShortcutsTime,"d-hidden"),0<=this.options.format.indexOf("ss")&&(this.time.querySelector(".d-seperator-second").classList.remove("d-hidden"),this.secondWrap.classList.remove("d-hidden")),this.hour.addEventListener("next",function(t){this.nextHour()}.bind(this)),this.hour.addEventListener("prev",function(t){this.prevHour()}.bind(this)),this.minute.addEventListener("next",function(t){this.nextMinute()}.bind(this)),this.minute.addEventListener("prev",function(t){this.prevMinute()}.bind(this)),this.second.addEventListener("next",function(t){this.nextSecond()}.bind(this)),this.second.addEventListener("prev",function(t){this.prevSecond()}.bind(this)),this.hour.addEventListener("wheel",function(t){t.preventDefault(),0<t.deltaY?this.nextHour():this.prevHour()}.bind(this)),this.minute.addEventListener("wheel",function(t){t.preventDefault(),0<t.deltaY?this.nextMinute():this.prevMinute()}.bind(this)),this.second.addEventListener("wheel",function(t){t.preventDefault(),0<t.deltaY?this.nextSecond():this.prevSecond()}.bind(this)),this.ampm.addEventListener("click",function(t){this.setAMPM()}.bind(this)),this.btnShortcutsTime.addEventListener("click",function(t){this.showShortcuts()}.bind(this)),this.hour.addEventListener("change",function(t){this.now=this.now.hour(parseInt(this.hour.value)),this.setTimeFromNow()}.bind(this)),this.minute.addEventListener("change",function(t){this.now=this.now.minute(parseInt(this.minute.value)),this.setTimeFromNow()}.bind(this)),this.second.addEventListener("change",function(t){this.now=this.now.second(parseInt(this.second.value)),this.setTimeFromNow()}.bind(this)),"minutes"===this.options.format?(this.hour.value=this.now.hour(),this.minute.value=this.now.minute()):""===this.target.value&&(this.hour.value=this.options.defaultHour,this.minute.value=this.options.defaultMinute,this.second.value=this.options.defaultSecond,this.now=this.now.hour(this.options.defaultHour),this.now=this.now.minute(this.options.defaultMinute),this.now=this.now.second(this.options.defaultSecond)),this.btnConfirmTime.addEventListener("click",function(t){"datetime"===this.options.mode&&""===this.dateSelected||(this.set(),this.hideCalendar())}.bind(this)),this.buildUpDownButtons(this.hourWrap),this.buildUpDownButtons(this.minuteWrap),this.buildUpDownButtons(this.secondWrap))},Diesel.prototype.buildMonth=function(t,e){var s=this.yearValue+"-"+this.monthValue+"-01",n=dayjs(s),o=n.subtract(1,"month"),h=(n.add(1,"month"),n.day());0===h&&(h=7);var a,r=o.daysInMonth(),d=n.daysInMonth(),l=r-h+2,u=r,c=42-(u-l)-d-1,p=this.now.format("YYYY")+"-"+this.now.format("MM")+"-";a=dayjs().format("YYYY-MM-DD");var m="",y="";for(i=0;i<7;i++)y+='<div class="day-header">'+this.options.dayNames[i]+"</div>";for(i=l;i<=u;i++)y+='<div class="day-pad"><span>'+i.toString()+"</span></div>";for(i=1;i<=d;i++){var v=p+(i<10?"0"+i.toString():i.toString());m="",v===a&&(m+=" day-today"),v===this.dateSelected&&(m+=" d-active"),y+='<div class="day'+m+' ditem" data-date="'+v+'"><span>'+i.toString()+"</span></div>"}for(i=1;i<=c;i++)y+='<div class="day-pad"><span>'+i.toString()+"</span></div>";return y},Diesel.prototype.set=function(){console.log("SETTING"),"minutes"===this.options.format?this.target.value=60*parseInt(this.hour.value)+parseInt(this.minute.value):(this.target.value=this.now.format(this.options.format),null!==this.displayEl&&(this.displayEl.value=this.now.format(this.options.display))),this.target.dispatchEvent(new Event("input"))},Diesel.prototype.selectDate=function(t){var i;i=this.isElement(t)?t.getAttribute("data-date"):t;var e=this.now.hour(),s=this.now.minute(),n=this.now.second();this.now=dayjs(i,"YYYY-MM-DD"),this.now=this.now.hour(e),this.now=this.now.minute(s),this.now=this.now.second(n),this.dateSelected=this.now.format("YYYY-MM-DD"),this.set(),"datetime"!==this.options.mode&&this.hideCalendar()},Diesel.prototype.buildUpDownButtons=function(t){this.appendInto(t,'<div><span class="dbtn-up"></span><span class="dbtn-down"></span></div>');var i=t.querySelector("input");t.querySelector(".dbtn-up").addEventListener("click",function(t){this.triggerEvent(i,"prev")}.bind(this)),t.querySelector(".dbtn-down").addEventListener("click",function(t){this.triggerEvent(i,"next")}.bind(this))},Diesel.prototype.hideCalendar=function(){this.triggerEvent(this.target,"change"),this.triggerEvent(this.calendar,"hide"),this.calendar.remove()},Diesel.prototype.showTime=function(){"time"===this.options.mode&&this.addClass(this.years,"d-hidden"),"time"===this.options.mode&&this.addClass(this.months,"d-hidden"),"time"===this.options.mode&&this.addClass(this.days,"d-hidden"),"time"===this.options.mode&&this.addClass(this.shortcuts,"d-hidden"),this.removeClass(this.time,"d-hidden")},Diesel.prototype.showYears=function(){this.displaying="years",this.removeClass(this.years,"d-hidden"),this.addClass(this.months,"d-hidden"),this.addClass(this.days,"d-hidden"),this.addClass(this.shortcuts,"d-hidden");for(var t=parseInt(this.yearValue)-7,i=parseInt(this.yearValue)+7,e=parseInt(this.yearValue),s=dayjs(),n="",o=t;o<=i;o++)s=s.year(o),n+='<div class="year dbtn '+(o===e?" d-active":"")+' ditem" data-year="'+s.format("YYYY")+'" data-year-display="'+s.format(this.options.formatYear)+'"><span>'+o.toString()+"</span></div>";this.years.innerHTML=n;var h=this.years.querySelectorAll(".year:not([data-init])");for(o=0;o<h.length;o++)(function(){var i=h[o];i.setAttribute("data-init",""),i.addEventListener("click",function(t){this.yearValue=i.getAttribute("data-year"),this.year.innerHTML=i.getAttribute("data-year-display"),this.now=this.now.year(parseInt(i.getAttribute("data-year"))),this.showDays(),this.triggerEvent(this.calendar,"change")}.bind(this))}).bind(this)()},Diesel.prototype.showMonths=function(){this.displaying="months",this.removeClass(this.months,"d-hidden"),this.addClass(this.years,"d-hidden"),this.addClass(this.days,"d-hidden"),this.addClass(this.shortcuts,"d-hidden");for(var t=dayjs(),i="",e=0;e<=11;e++)i+='<div class="dbtn month'+((t=t.month(e)).format("MM")===this.monthValue?" d-active":"")+' ditem" data-month="'+t.format("MM")+'" data-month-display="'+t.format(this.options.formatMonth)+'"><span>'+t.format(this.options.formatMonth)+"</span></div>";this.months.innerHTML=i;var s=this.months.querySelectorAll(".month:not([data-init])");for(e=0;e<s.length;e++)(function(){var i=s[e];i.setAttribute("data-init",""),i.addEventListener("click",function(t){this.monthValue=i.getAttribute("data-month"),this.month.innerHTML=i.getAttribute("data-month"),this.now=this.now.month(parseInt(i.getAttribute("data-month"))-1),this.showDays(),this.triggerEvent(this.calendar,"change")}.bind(this))}).bind(this)()},Diesel.prototype.showShortcuts=function(){if("shortcuts"!==this.displaying){var t,i=this.content.querySelector(".d-days:not(.d-hidden), .d-months:not(.d-hidden), .d-years:not(.d-hidden)");a=null!==i?i.offsetHeight:270,this.displaying="shortcuts",this.removeClass(this.shortcuts,"d-hidden"),this.addClass(this.years,"d-hidden"),this.addClass(this.days,"d-hidden"),this.addClass(this.months,"d-hidden"),this.shortcuts.style.height=a.toString()+"px",this.setPosition(),shorthtml="";var e=this.options.shortcuts.split(";");for(t=0;t<e.length;t++){var s=e[t].split("="),n=s[0],o=s[1],h=s[2];if(this.empty(o)&&(o=n),"tomorrow"===o)o=dayjs().add(1,"day").format("YYYY-MM-DD");else if("yesterday"===o)o=dayjs().subtract(1,"day").format("YYYY-MM-DD");else if("nextweek"===o)o=dayjs().add(7,"day").format("YYYY-MM-DD");else if("lastweek"===o)o=dayjs().subtract(7,"day").format("YYYY-MM-DD");else if("nextyear"===o)o=dayjs().add(1,"year").format("YYYY-MM-DD");else if("lastyear"===o)o=dayjs().subtract(1,"year").format("YYYY-MM-DD");else if("monthstart"===o)o=dayjs().date(1).format("YYYY-MM-DD");else if("monthend"===o)o=dayjs().date(dayjs().daysInMonth()).format("YYYY-MM-DD");else if("clear"===o)o="clear";else if("minutes"===h){var a,r=parseInt(o),d=r-60*(a=Math.floor(r/60));o=(o=(o=(o=dayjs()).hour(a)).minute(d)).format("HH:mm"),h="HH:mm"}else this.empty(h)?(o=dayjs(o).format("YYYY-MM-DD"),h=""):o=dayjs(o,h).format(h);this.empty(h)&&(h=""),shorthtml+='<div class="dbtn d-shortcut ditem" data-shortcut="'+o+'" data-format="'+h+'"><span>'+n+"</span></div>"}for(t=e.length;t<12;t++)shorthtml+='<div class="d-shortcut-pad"><span></span></div>';this.shortcuts.innerHTML=shorthtml;var l=this.shortcuts.querySelectorAll(".d-shortcut:not([data-init])");for(t=0;t<l.length;t++)(function(){var s=l[t];s.setAttribute("data-init",""),s.addEventListener("click",function(t){var i=s.getAttribute("data-format"),e=s.getAttribute("data-shortcut");if("clear"===e)return this.target.value="",null!==this.displayEl&&(this.displayEl.value=""),void this.hideCalendar();this.empty(i)?this.now=dayjs(e):this.now=dayjs(e,i),this.selectDate(this.now.format("YYYY-MM-DD")),this.setDateFromNow(),this.setTimeFromNow(),this.showDays(),this.showTime(),this.triggerEvent(this.calendar,"change"),this.set(),"datetime"!==this.options.mode&&this.hideCalendar()}.bind(this))}).bind(this)()}else this.showDays()},Diesel.prototype.showDays=function(){this.displaying="days",this.addClass(this.years,"d-hidden"),this.addClass(this.months,"d-hidden"),this.addClass(this.shortcuts,"d-hidden"),"datetime"!==this.options.mode&&this.addClass(this.time,"d-hidden"),this.removeClass(this.days,"d-hidden");var t=this.buildMonth();this.days.innerHTML=t;for(var i=this.days.querySelectorAll(".day"),s=0;s<i.length;s++)(function(){var e=i[s];e.addEventListener("click",function(t){this.selectDate(e);var i=this.days.querySelector(".d-active");null!==i&&this.removeClass(i,"d-active"),this.addClass(e,"d-active")}.bind(this))}).bind(this)()},Diesel.prototype.setAMPM=function(){"AM"===this.now.format("A")?this.now=this.now.add(12,"hour"):"PM"===this.now.format("A")&&(this.now=this.now.subtract(12,"hour")),this.setTimeFromNow()},Diesel.prototype.setHeader=function(){this.monthDisplay.innerHTML=this.month.getAttribute("data-month-display"),this.yearDisplay.innerHTML=this.year.getAttribute("data-year-display")},Diesel.prototype.setDateFromNow=function(){this.modeDate&&(this.year.innerHTML=this.now.format(this.options.formatYear),this.month.innerHTML=this.now.format(this.options.formatMonth))},Diesel.prototype.setTimeFromNow=function(){this.modeTime&&("minutes"===this.options.format?(this.hour.value=this.now.format(this.options.formatHour),this.minute.value=this.now.format("mm"),this.addClass(this.ampm,"d-hidden")):(this.hour.value=this.now.format(this.options.formatHour),this.minute.value=this.now.format("mm"),this.second.value=this.now.format("ss"),this.ampm.innerHTML=this.now.format("A")))},Diesel.prototype.next=function(){"days"===this.displaying&&this.nextMonth(),"years"===this.displaying&&(this.yearValue=parseInt(this.yearValue)+15,this.showYears())},Diesel.prototype.prev=function(){"days"===this.displaying&&this.prevMonth(),"years"===this.displaying&&(this.yearValue=parseInt(this.yearValue)-15,this.showYears())},Diesel.prototype.nextHour=function(){if(!0===this.options.timeRelative||"true"===this.options.timeRelative){var t=this.now.year(),i=this.now.month(),e=this.now.day();this.now=this.now.add(1,"hour"),this.now=this.now.year(t),this.now=this.now.month(i),this.now=this.now.day(e)}else{i=this.now.minute();var s=this.now.second();this.now=this.now.add(1,"hour"),this.now=this.now.minute(i),this.now=this.now.second(s)}this.setTimeFromNow()},Diesel.prototype.prevHour=function(){if(!0===this.options.timeRelative||"true"===this.options.timeRelative)this.now=this.now.subtract(1,"hour");else{var t=this.now.minute(),i=this.now.second();this.now=this.now.subtract(1,"hour"),this.now=this.now.minute(t),this.now=this.now.second(i)}this.setTimeFromNow()},Diesel.prototype.nextMinute=function(){if(!0===this.options.timeRelative||"true"===this.options.timeRelative)this.now=this.now.add(this.options.minuteIncrement,"minute"),this.now=this.now.second(0);else{var t=this.now.hour(),i=this.now.second();this.now=this.now.add(this.options.minuteIncrement,"minute"),this.now=this.now.hour(t),this.now=this.now.second(i)}var e=Math.round(parseInt(this.now.format("m"))/parseInt(this.options.minuteIncrement))*parseInt(this.options.minuteIncrement)%60;this.now=this.now.minute(e),this.setTimeFromNow()},Diesel.prototype.prevMinute=function(){if(!0===this.options.timeRelative||"true"===this.options.timeRelative)this.now=this.now.subtract(this.options.minuteIncrement,"minute"),this.now=this.now.second(0);else{var t=this.now.hour(),i=this.now.second();this.now=this.now.subtract(this.options.minuteIncrement,"minute"),this.now=this.now.hour(t),this.now=this.now.second(i)}var e=Math.round(parseInt(this.now.format("m"))/parseInt(this.options.minuteIncrement))*parseInt(this.options.minuteIncrement)%60;this.now=this.now.minute(e),this.setTimeFromNow()},Diesel.prototype.nextSecond=function(){this.now=this.now.add(1,"second"),this.setTimeFromNow()},Diesel.prototype.prevSecond=function(){this.now=this.now.subtract(1,"second"),this.setTimeFromNow()},Diesel.prototype.nextMonth=function(){"days"===this.displaying&&(this.now=this.now.add(1,"month"),this.yearValue=this.now.format("YYYY"),this.monthValue=this.now.format("MM"),this.triggerEvent(this.calendar,"change"))},Diesel.prototype.prevMonth=function(){"days"===this.displaying&&(this.now=this.now.subtract(1,"month"),this.yearValue=this.now.format("YYYY"),this.monthValue=this.now.format("MM"),this.triggerEvent(this.calendar,"change"))},Diesel.prototype.nextYear=function(){var t=parseInt(this.year.value),i=parseInt(this.year.getAttribute("data-max"));i<(t+=1)&&(t=i);var e=t.toString(),s=!1;this.year.value!==e&&(s=!0),this.year.value=e,this.year.value!==e&&this.triggerEvent(this.year,"change"),!0===s&&this.triggerEvent(this.calendar,"change")},Diesel.prototype.prevYear=function(){var t=parseInt(this.year.value),i=parseInt(this.year.getAttribute("data-min"));(t-=1)<i&&(t=i);var e=t.toString(),s=!1;this.year.value!==e&&(s=!0),this.year.value=e,this.year.value!==e&&this.triggerEvent(this.year,"change"),!0===s&&this.triggerEvent(this.calendar,"change")},Diesel.prototype.setYearMonth=function(){},Diesel.prototype.loadMonth=function(){this.days.innerHTML=this.buildMonth(this.year.value,this.month.value)},Diesel.prototype.stringToHTML=function(t){var i=document.createElement("div");return i.innerHTML=t,i.firstChild},Diesel.prototype.empty=function(t){return""===t||null==t},Diesel.prototype.isElement=function(t){return!this.empty(t)&&t instanceof Element},Diesel.prototype.getWindowHeight=function(){return void 0===window.windowHeight&&(window.windowHeight=Math.max(document.body.clientHeight,document.documentElement.clientHeight)),window.windowHeight},Diesel.prototype.getWindowWidth=function(){return void 0===window.windowWidth&&(window.windowWidth=Math.max(document.body.clientWidth,document.documentElement.clientWidth)),window.windowWidth},Diesel.prototype.setPosition=function(){var t,i;i=null===this.displayEl?(t=this.offsetTop(this.target),this.target.getBoundingClientRect()):(t=this.offsetTop(this.displayEl),this.displayEl.getBoundingClientRect());var e=this.calendar.getBoundingClientRect();if(this.getWindowWidth()<parseInt(this.options.fullWidth))this.calendar.style.position="fixed",this.calendar.style.left="0px",this.calendar.style.bottom="0px",this.calendar.style.width="100%",t=t-screen.height+e.height+i.height+this.options.offset,window.scroll({top:t,behavior:"smooth"});else{this.calendar.style.position="absolute";var s=i.x;i.x+e.width>screen.width&&(s=i.x+i.width-e.width),this.calendar.style.left=s.toString()+"px",t>parseInt(window.scrollY+screen.height/2)?this.calendar.style.top=(t-e.height-this.options.offset).toString()+"px":this.calendar.style.top=(t+i.height+this.options.offset).toString()+"px"}},Diesel.prototype.offsetTop=function(t){for(var i=0;i+=t.offsetTop,t=t.offsetParent;);return i},Diesel.prototype.appendInto=function(t,i){if("object"!=typeof t)var e=document.querySelector(t);else e=t;"string"==typeof i&&(i=this.stringToHTML(i)),"object"==typeof i&&e.appendChild(i)},Diesel.prototype.insertBefore=function(t,i){if("object"!=typeof t)document.querySelector(t);else t;"string"==typeof i&&(i=this.stringToHTML(i)),"object"==typeof i&&t.parentNode.insertBefore(i,t)},Diesel.prototype.addClass=function(t,i){if(null===t||null===i||""===i)return!1;if(t instanceof NodeList){for(var e=0;e<t.length;e++){t[e].classList.add(i)}return!0}"string"==typeof t&&(t=document.querySelector(t));var s=i.split(" ");for(e=0;e<s.length;e++)t.classList.add(s[e])},Diesel.prototype.removeClass=function(t,i){if(null===t)return!1;if(t instanceof NodeList){for(var e=0;e<t.length;e++){t[e].classList.remove(i)}return!0}"string"==typeof t&&(t=document.querySelector(t));var s=i.split(" ");for(e=0;e<s.length;e++)null!==t&&t.classList.remove(s[e])},Diesel.prototype.triggerEvent=function(t,i){if(null!==t&&void 0!==t.dispatchEvent){var e=new CustomEvent(i);t.dispatchEvent(e)}}}();